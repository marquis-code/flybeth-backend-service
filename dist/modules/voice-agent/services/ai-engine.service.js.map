{"version":3,"file":"ai-engine.service.js","sourceRoot":"","sources":["../../../../src/modules/voice-agent/services/ai-engine.service.ts"],"names":[],"mappings":"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"}